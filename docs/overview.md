# PyRogue - プロジェクト概要

## 概要

PyRogueは、Python 3.12とTCODライブラリを使用して開発された本格的なローグライクゲームです。伝統的なローグライクゲームの要素を忠実に再現し、手続き生成ダンジョン、ターンベース戦闘、パーマデス（永続的死）、探索重視のゲームプレイを提供します。

## プロジェクトの目的

- **伝統的なローグライクゲーム体験の提供**: オリジナルRogueの26階層構造を再現
- **高品質なソフトウェアアーキテクチャの実現**: 責務分離、テスト可能性、拡張性を重視
- **教育的価値の提供**: ゲーム開発のベストプラクティスを実例として示す
- **継続的な開発・保守の実現**: 段階的リファクタリングと機能追加に対応

## 主要な特徴

### ゲーム機能
- **26階層の手続き生成ダンジョン**: オリジナルRogueに準拠した階層構造
- **ターンベース戦闘システム**: 戦略性を重視した戦闘メカニクス
- **包括的なアイテムシステム**: 武器、防具、ポーション、巻物、食料、指輪
- **ゴールドオートピックアップ**: 移動時の自動ゴールド回収システム
- **改善されたアイテム使用システム**: 適切なメッセージ表示と効果処理
- **魔法システム**: MP管理、4種類の魔法、ターゲティング機能
- **状態異常システム**: 毒、麻痺、混乱の実装
- **トラップシステム**: 落とし穴、毒針、テレポートトラップ
- **完全なセーブ・ロード機能**: ゲーム状態の永続化

### 技術的特徴
- **モダンなPython開発**: Python 3.12、型ヒント、非同期処理
- **高性能ライブラリ**: TCOD（描画・入力・FOV）、NumPy（数値計算）
- **包括的な品質管理**: ruff、mypy、pytest、pre-commit
- **効率的なパッケージ管理**: UV（高速依存関係解決）
- **統一コマンドインターフェース**: GUIとCLIの完全統合

## 技術スタック

### 核心技術
- **Python 3.12**: 最新のPython機能を活用
- **TCOD >=19.0.0**: 描画、入力処理、視界計算
- **NumPy >=1.26.3**: 数値計算、配列操作

### 開発ツール
- **UV**: 高速パッケージ管理
- **ruff**: 包括的リンティング・フォーマット
- **mypy**: 静的型チェック
- **pytest**: テスト実行・カバレッジ
- **pre-commit**: コミット前検証

## アーキテクチャの特徴

### 設計原則
1. **責務分離**: 各クラスが単一責任を持つ
2. **マネージャーパターン**: 機能を管理クラスに分割
3. **Builder Pattern**: 複雑な生成処理を段階的に構築
4. **コマンドパターン**: 統一されたコマンド処理システム
5. **State Pattern**: ゲーム状態の明確な管理

### 主要コンポーネント
- **Core**: ゲームエンジン、状態管理、入力処理
- **Entities**: プレイヤー、モンスター、アイテム、魔法、トラップ
- **Map**: ダンジョン生成、タイル定義、階層管理
- **UI**: スクリーンシステム、描画処理、ユーザーインターフェース

## 開発状況

### 完成済み機能
- ✅ コアゲームループ（メニュー、ゲームプレイ、ゲームオーバー、勝利）
- ✅ 26階層のダンジョン探索システム
- ✅ ターンベース戦闘システム
- ✅ 包括的なアイテムシステム
- ✅ 状態異常システム
- ✅ トラップシステム
- ✅ 魔法システム
- ✅ 完全なUI/UXシステム
- ✅ セーブ・ロード機能

### 今後の展開
- NPCシステム（商人、会話、売買）
- 追加の魔法・アイテム・モンスター
- サウンドシステム
- グラフィカルタイルセット

## 対象ユーザー

### 主要ユーザー
- **ローグライクゲーマー**: 伝統的なローグライクゲームを楽しみたいプレイヤー
- **Python開発者**: ゲーム開発のベストプラクティスを学びたい開発者
- **教育関係者**: ソフトウェアアーキテクチャの教材として活用したい指導者

### 副次的ユーザー
- **ゲーム開発初心者**: Pythonでのゲーム開発を学びたい学習者
- **オープンソース貢献者**: 品質の高いプロジェクトに貢献したい開発者

## プロジェクトの価値

### 技術的価値
- **実践的なアーキテクチャ**: 実際のゲームプロジェクトでの設計パターン活用例
- **高品質なコード**: 型ヒント、テスト、文書化の徹底
- **継続的改善**: CI/CD、リファクタリング、段階的開発

### 教育的価値
- **包括的な文書化**: 設計思想、実装詳細、開発プロセスの記録
- **段階的学習**: 基本機能から高度な機能まで段階的に理解可能
- **実践的な例**: 理論だけでなく実際の動作するコード

### 文化的価値
- **ローグライクゲームの継承**: 伝統的なゲームジャンルの現代的実装
- **オープンソースの精神**: 知識の共有と協力的な開発

## 成功指標

### 技術的成功指標
- **コード品質**: 型ヒント100%、テストカバレッジ90%以上
- **性能**: 60FPS以上の安定動作
- **保守性**: 新機能追加の容易さ、バグ修正の迅速さ

### ユーザー成功指標
- **ゲーム体験**: 完全なゲームプレイの実現
- **学習効果**: 技術文書の理解しやすさ
- **貢献活動**: オープンソース貢献の活発さ

## 今後の展望

PyRogueは、単純なゲームプロジェクトから、Pythonゲーム開発の包括的な教材・参考実装へと発展することを目指しています。高品質なアーキテクチャと包括的な文書化により、多くの開発者にとって価値のあるリソースとなることを期待しています。

## ライセンス

本プロジェクトは MIT License の下で公開されており、商用・非商用を問わず自由に使用・改変・配布が可能です。
